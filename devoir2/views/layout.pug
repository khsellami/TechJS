doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title= title || "Book Tracker"
    script(src="https://cdn.tailwindcss.com")
    link(rel="stylesheet" href="/styles.css")
  body.bg-gray-100.min-h-screen
    nav.bg-blue-600.text-white.p-4
      .container.mx-auto.flex.justify-between.items-center
        a(href="/").text-xl.font-bold Book Tracker
        div
          if user
            span.mr-4 Welcome, #{user.username}!
            a(href="/logout" class="bg-red-500 hover:bg-red-600 px-3 py-1 rounded") Logout
          else
            a(href="/login" class="mr-2 bg-blue-500 hover:bg-blue-600 px-3 py-1 rounded") Login
            a(href="/register" class="bg-green-500 hover:bg-green-600 px-3 py-1 rounded") Register
    
    main.container.mx-auto.p-4
      if messages && messages.error
        .bg-red-100.border.border-red-400.text-red-700.px-4.py-3.rounded.mb-4
          each error in messages.error
            p= error
      
      if messages && messages.success
        .bg-green-100.border.border-green-400.text-green-700.px-4.py-3.rounded.mb-4
          each success in messages.success
            p= success
      
      block content
    
    script(src="/app.js")